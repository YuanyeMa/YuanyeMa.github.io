<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Linux Kernel Makefiles - Yuanye Ma's Blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="Yuanye Ma"><meta name=description content="======================
Linux Kernel Makefiles 这个文档介绍了Linux kernel Makefiles。
.. 目录
=== 1 Overview === 2 Who does what === 3 The kbuild files --- 3.1 目标定义(Goal definitions) --- 3.2 要编译进内核的目标(Built-in object goals) - `obj-y` --- 3.3 可加载模块目标(Loadable module goals) - `obj-m` --- 3.4 要导出符号的目标(Objects which export symbols) --- 3.5 库文件目标(Library file goals) - `lib-y` --- 3.6 Descending down in directories --- 3.7 编译参数(Compilation flags) --- 3.8 <deleted> --- 3.9 依赖追踪(Dependency tracking) --- 3.10 特定的规则(Special Rules) --- 3.11 $(CC) 支持的函数(support functions) --- 3.12 $(LD) 支持的函数 --- 3.13 脚本调用 === 4 Host Program support --- 4.1 Simple Host Program --- 4.2 Composite Host Programs --- 4.3 Using C++ for host programs --- 4.4 Controlling compiler options for host programs --- 4.5 When host programs are actually built === 5 Userspace Program support --- 5.1 Simple Userspace Program --- 5.2 Composite Userspace Programs --- 5.3 Controlling compiler options for userspace programs --- 5.4 When userspace programs are actually built === 6 Kbuild clean infrastructure === 7 Architecture Makefiles --- 7.1 Set variables to tweak the build to the architecture --- 7.2 Add prerequisites to archheaders --- 7.3 Add prerequisites to archprepare --- 7.4 List directories to visit when descending --- 7.5 Architecture-specific boot images --- 7.6 Building non-kbuild targets --- 7.7 Commands useful for building a boot image --- 7.8 Custom kbuild commands --- 7.9 Preprocessing linker scripts --- 7.10 Generic header files --- 7.11 Post-link pass === 8 Kbuild syntax for exported headers --- 8.1 no-export-headers --- 8.2 generic-y --- 8.3 generated-y --- 8.4 mandatory-y === 9 Kbuild Variables === 10 Makefile language === 11 Credits === 12 TODO 1 Overview 内核的Makefiles由五部分组成::
"><meta name=keywords content="Hugo,theme,jane"><meta name=generator content="Hugo 0.148.2"><link rel=canonical href=/post/os/linux-kernel/linux-kernel-makefiles/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/sass/jane.min.3442cfc1da04c22b5e0e1abf70bf2b83c9103be6e3ee042c87f4347e530bd29f.css integrity="sha256-NELPwdoEwiteDhq/cL8rg8kQO+bj7gQsh/Q0flML0p8=" media=screen crossorigin=anonymous><meta property="og:url" content="/post/os/linux-kernel/linux-kernel-makefiles/"><meta property="og:site_name" content="Yuanye Ma's Blog"><meta property="og:title" content="Linux Kernel Makefiles"><meta property="og:description" content="======================
Linux Kernel Makefiles 这个文档介绍了Linux kernel Makefiles。
.. 目录
=== 1 Overview === 2 Who does what === 3 The kbuild files --- 3.1 目标定义(Goal definitions) --- 3.2 要编译进内核的目标(Built-in object goals) - `obj-y` --- 3.3 可加载模块目标(Loadable module goals) - `obj-m` --- 3.4 要导出符号的目标(Objects which export symbols) --- 3.5 库文件目标(Library file goals) - `lib-y` --- 3.6 Descending down in directories --- 3.7 编译参数(Compilation flags) --- 3.8 <deleted> --- 3.9 依赖追踪(Dependency tracking) --- 3.10 特定的规则(Special Rules) --- 3.11 $(CC) 支持的函数(support functions) --- 3.12 $(LD) 支持的函数 --- 3.13 脚本调用 === 4 Host Program support --- 4.1 Simple Host Program --- 4.2 Composite Host Programs --- 4.3 Using C++ for host programs --- 4.4 Controlling compiler options for host programs --- 4.5 When host programs are actually built === 5 Userspace Program support --- 5.1 Simple Userspace Program --- 5.2 Composite Userspace Programs --- 5.3 Controlling compiler options for userspace programs --- 5.4 When userspace programs are actually built === 6 Kbuild clean infrastructure === 7 Architecture Makefiles --- 7.1 Set variables to tweak the build to the architecture --- 7.2 Add prerequisites to archheaders --- 7.3 Add prerequisites to archprepare --- 7.4 List directories to visit when descending --- 7.5 Architecture-specific boot images --- 7.6 Building non-kbuild targets --- 7.7 Commands useful for building a boot image --- 7.8 Custom kbuild commands --- 7.9 Preprocessing linker scripts --- 7.10 Generic header files --- 7.11 Post-link pass === 8 Kbuild syntax for exported headers --- 8.1 no-export-headers --- 8.2 generic-y --- 8.3 generated-y --- 8.4 mandatory-y === 9 Kbuild Variables === 10 Makefile language === 11 Credits === 12 TODO 1 Overview 内核的Makefiles由五部分组成::"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2019-04-15T16:01:23+08:00"><meta property="article:modified_time" content="2019-04-15T16:01:23+08:00"><meta property="article:tag" content="Kernel Makefiles"><meta property="article:tag" content="Kernel"><meta itemprop=name content="Linux Kernel Makefiles"><meta itemprop=description content="======================
Linux Kernel Makefiles 这个文档介绍了Linux kernel Makefiles。
.. 目录
=== 1 Overview === 2 Who does what === 3 The kbuild files --- 3.1 目标定义(Goal definitions) --- 3.2 要编译进内核的目标(Built-in object goals) - `obj-y` --- 3.3 可加载模块目标(Loadable module goals) - `obj-m` --- 3.4 要导出符号的目标(Objects which export symbols) --- 3.5 库文件目标(Library file goals) - `lib-y` --- 3.6 Descending down in directories --- 3.7 编译参数(Compilation flags) --- 3.8 <deleted> --- 3.9 依赖追踪(Dependency tracking) --- 3.10 特定的规则(Special Rules) --- 3.11 $(CC) 支持的函数(support functions) --- 3.12 $(LD) 支持的函数 --- 3.13 脚本调用 === 4 Host Program support --- 4.1 Simple Host Program --- 4.2 Composite Host Programs --- 4.3 Using C++ for host programs --- 4.4 Controlling compiler options for host programs --- 4.5 When host programs are actually built === 5 Userspace Program support --- 5.1 Simple Userspace Program --- 5.2 Composite Userspace Programs --- 5.3 Controlling compiler options for userspace programs --- 5.4 When userspace programs are actually built === 6 Kbuild clean infrastructure === 7 Architecture Makefiles --- 7.1 Set variables to tweak the build to the architecture --- 7.2 Add prerequisites to archheaders --- 7.3 Add prerequisites to archprepare --- 7.4 List directories to visit when descending --- 7.5 Architecture-specific boot images --- 7.6 Building non-kbuild targets --- 7.7 Commands useful for building a boot image --- 7.8 Custom kbuild commands --- 7.9 Preprocessing linker scripts --- 7.10 Generic header files --- 7.11 Post-link pass === 8 Kbuild syntax for exported headers --- 8.1 no-export-headers --- 8.2 generic-y --- 8.3 generated-y --- 8.4 mandatory-y === 9 Kbuild Variables === 10 Makefile language === 11 Credits === 12 TODO 1 Overview 内核的Makefiles由五部分组成::"><meta itemprop=datePublished content="2019-04-15T16:01:23+08:00"><meta itemprop=dateModified content="2019-04-15T16:01:23+08:00"><meta itemprop=wordCount content="4976"><meta itemprop=keywords content="Kernel Makefiles,Kernel"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux Kernel Makefiles"><meta name=twitter:description content="======================
Linux Kernel Makefiles 这个文档介绍了Linux kernel Makefiles。
.. 目录
=== 1 Overview === 2 Who does what === 3 The kbuild files --- 3.1 目标定义(Goal definitions) --- 3.2 要编译进内核的目标(Built-in object goals) - `obj-y` --- 3.3 可加载模块目标(Loadable module goals) - `obj-m` --- 3.4 要导出符号的目标(Objects which export symbols) --- 3.5 库文件目标(Library file goals) - `lib-y` --- 3.6 Descending down in directories --- 3.7 编译参数(Compilation flags) --- 3.8 <deleted> --- 3.9 依赖追踪(Dependency tracking) --- 3.10 特定的规则(Special Rules) --- 3.11 $(CC) 支持的函数(support functions) --- 3.12 $(LD) 支持的函数 --- 3.13 脚本调用 === 4 Host Program support --- 4.1 Simple Host Program --- 4.2 Composite Host Programs --- 4.3 Using C++ for host programs --- 4.4 Controlling compiler options for host programs --- 4.5 When host programs are actually built === 5 Userspace Program support --- 5.1 Simple Userspace Program --- 5.2 Composite Userspace Programs --- 5.3 Controlling compiler options for userspace programs --- 5.4 When userspace programs are actually built === 6 Kbuild clean infrastructure === 7 Architecture Makefiles --- 7.1 Set variables to tweak the build to the architecture --- 7.2 Add prerequisites to archheaders --- 7.3 Add prerequisites to archprepare --- 7.4 List directories to visit when descending --- 7.5 Architecture-specific boot images --- 7.6 Building non-kbuild targets --- 7.7 Commands useful for building a boot image --- 7.8 Custom kbuild commands --- 7.9 Preprocessing linker scripts --- 7.10 Generic header files --- 7.11 Post-link pass === 8 Kbuild syntax for exported headers --- 8.1 no-export-headers --- 8.2 generic-y --- 8.3 generated-y --- 8.4 mandatory-y === 9 Kbuild Variables === 10 Makefile language === 11 Credits === 12 TODO 1 Overview 内核的Makefiles由五部分组成::"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=back-to-top></div><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>功不唐捐</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=/>Home</a></li><li class=mobile-menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=mobile-menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=mobile-menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=mobile-menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav><link rel=stylesheet href=/lib/photoswipe/photoswipe.min.css><link rel=stylesheet href=/lib/photoswipe/default-skin/default-skin.min.css><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>功不唐捐</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight wallpaper"><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Linux Kernel Makefiles</h1><div class=post-meta><div class=post-meta-author>by
<a href=/about><span class=post-meta-author-name>Yuanye Ma</span></a></div><div class=post-meta-time><time datetime=2019-04-15>2019-04-15</time></div><div class=post-meta__right><div class=post-meta-category><a href=/categories/linux-kernel/>Linux Kernel</a></div></div></div></header><div class=post-content><p>======================</p><h1 id=linux-kernel-makefiles>Linux Kernel Makefiles</h1><p>这个文档介绍了<code>Linux kernel Makefiles</code>。</p><p>.. 目录</p><pre><code>    === 1 Overview
    === 2 Who does what
    === 3 The kbuild files
       --- 3.1 目标定义(Goal definitions)
       --- 3.2 要编译进内核的目标(Built-in object goals) - `obj-y`
       --- 3.3 可加载模块目标(Loadable module goals) - `obj-m`
       --- 3.4 要导出符号的目标(Objects which export symbols)
       --- 3.5 库文件目标(Library file goals) - `lib-y`
       --- 3.6 Descending down in directories
       --- 3.7 编译参数(Compilation flags)
       --- 3.8 &lt;deleted&gt;
       --- 3.9 依赖追踪(Dependency tracking)
       --- 3.10 特定的规则(Special Rules)
       --- 3.11 $(CC) 支持的函数(support functions)
       --- 3.12 $(LD) 支持的函数
       --- 3.13 脚本调用

    === 4 Host Program support
       --- 4.1 Simple Host Program
       --- 4.2 Composite Host Programs
       --- 4.3 Using C++ for host programs
       --- 4.4 Controlling compiler options for host programs
       --- 4.5 When host programs are actually built

    === 5 Userspace Program support
       --- 5.1 Simple Userspace Program
       --- 5.2 Composite Userspace Programs
       --- 5.3 Controlling compiler options for userspace programs
       --- 5.4 When userspace programs are actually built

    === 6 Kbuild clean infrastructure

    === 7 Architecture Makefiles
       --- 7.1 Set variables to tweak the build to the architecture
       --- 7.2 Add prerequisites to archheaders
       --- 7.3 Add prerequisites to archprepare
       --- 7.4 List directories to visit when descending
       --- 7.5 Architecture-specific boot images
       --- 7.6 Building non-kbuild targets
       --- 7.7 Commands useful for building a boot image
       --- 7.8 Custom kbuild commands
       --- 7.9 Preprocessing linker scripts
       --- 7.10 Generic header files
       --- 7.11 Post-link pass
    === 8 Kbuild syntax for exported headers
       --- 8.1 no-export-headers
       --- 8.2 generic-y
       --- 8.3 generated-y
       --- 8.4 mandatory-y

    === 9 Kbuild Variables
    === 10 Makefile language
    === 11 Credits
    === 12 TODO
</code></pre><h1 id=1-overview>1 Overview</h1><p>内核的Makefiles由五部分组成::</p><pre><code>    Makefile                顶层Makefile,即内核目录树根目录下的Makefile文件。
    .config                 内核的配置文件。
    arch/$(ARCH)/Makefile   体系结构相关的Makefle文件。
    scripts/Makefile.*      kbuild Makefiles通用的规则文件。
    kbuild Makefiles        大约500多个kbuild Makefile文件。
</code></pre><p>顶层<code>Makefile</code>读取内核配置阶段生成的<code>.config</code>文件。</p><p>顶层<code>Makefile</code>负责构建两个主要的东西：vmlinux（常驻内核镜像）和modules（所有的内核模块）。它通过递归进入内核源码树的子目录来构建这些目标。</p><p>被访问的子目录列表取决于内核配置，顶层<code>Makefile</code>文件包含了一个名字叫做<code>arch/$(ARCH)/Makefile</code>的体系结构相关的<code>Makefile</code>文件，这个体系结构相关的<code>Makefile</code>文件为顶层<code>Makefile</code>文件提供体系结构相关的信息。</p><p>每个子目录都有一个<code>kbuild Makefile</code>，该文件执行上层<code>Makefile</code>传递下来的命令。<code>kbuild Makefile</code>使用<code>.config</code>文件中的信息来生成一个<code>kbuild</code>使用的文件列表，该文件列表被<code>kbuild</code>用于构建要编译进内核的目标(<code>built-in</code>)或内核模块。</p><p>scripts / Makefile.* 包含所有的变量定义/编译规则等，这些变量和规则被<code>kbuild</code>用于构建内核。</p><h1 id=2-who-does-what>2 Who does what</h1><p>People have four different relationships with the kernel Makefiles.
有四种人会关心内核<code>Makefiles</code>文件。</p><p><em>Users</em> 需要自己构建内核的人，这些人需要执行"make menuconfig" 和 &ldquo;make"命令，通常不会阅读或者修改内核的<code>Makefiles</code>文件（或者不需要修改内核的任何源文件）。</p><p><em>Normal developers</em> 指从事诸如设备驱动、文件系统或者网络协议栈等开发维护的人。这些人需要维护自己所关注的子系统使用的<code>kbuild Makefile</code>文件。为了更好地完成维护或者开发工作，他们需要对内核<code>Makefile</code>,以及有关<code>kbuild</code>公用接口有较为全面的了解。</p><p><em>Arch developers</em> 指从事特定体系结构比如ia64等相关开发的人员。体系结构相关的开发人员需要对<code>arch/$(ARCH)/Makefile</code>和<code>kbuild Makefiles</code>有一定的了解。</p><p><em>Kbuild developers</em> 指开发或者维护内核构建系统本身的人，他们需要对内核中所有的<code>Makefile</code>文件都有比较深入的认识。</p><p>这个文档适用于<code>normal developers</code>和<code>arch developers</code>，也即从事设备驱动、文件系统等相关内核子系统维护或者开发，以及从事体系结构相关开发工作的工程师们。</p><h1 id=3-the-kbuild-files>3 The kbuild files</h1><p>内核中的大部分<code>Makefile</code>文件都是<code>kbuild Makefiles</code>。本章介绍<code>kbuild makefiles</code>的语法。</p><p>The preferred name for the kbuild files are &lsquo;Makefile&rsquo; but &lsquo;Kbuild&rsquo; can
be used and if both a &lsquo;Makefile&rsquo; and a &lsquo;Kbuild&rsquo; file exists, then the &lsquo;Kbuild&rsquo; file will be used.
<code>kbuild</code>文件的首选名称是“Makefile”，但“Kbuild”可以使用，如果同时存在“ Makefile”和“ Kbuild”文件，则将使用“Kbuild”文件。</p><h2 id=31-goal-definitions>3.1 节“目标定义” (&ldquo;Goal definitions&rdquo; )是一个快速的大概介绍；后边的章节将给出更多细节以及实际的例子。
3.1 Goal definitions</h2><pre><code>    Goal definitions are the main part (heart) of the kbuild Makefile.
    These lines define the files to be built, any special compilation
    options, and any subdirectories to be entered recursively.

    The most simple kbuild makefile contains one line:
</code></pre><p>目标定义是<code>kbuild Makefile</code>的主要部分（核心）。这些行定义了要构建的文件、特殊的编译选项以及要递归编译的所有子目录。</p><p>最简单的kbuild makefile包含一行：</p><pre><code>    Example::

            obj-y += foo.o

    This tells kbuild that there is one object in that directory, named foo.o. foo.o will be built from foo.c or foo.S.
    这告诉`kbuild`当前目录有一个名字叫做`foo.o`的目标，`foo.o`可能是从`foo.c`或者`foo.S`编译而来的。

    If foo.o shall be built as a module, the variable obj-m is used.
    Therefore the following pattern is often used:
</code></pre><p>如果要将<code>foo.o</code>编译为内核模块，则将使用<code>obj-m</code>来定义，因此经常使用下边的形式：</p><pre><code>    Example::

            obj-$(CONFIG_FOO) += foo.o

    `$(CONFIG_FOO)` evaluates to either y (for built-in) or m (for module).
    `$(CONFIG_FOO)`的值可以是`y`(编译进内核)或者`m`（编译成模块）.
    If CONFIG_FOO is neither y nor m, then the file will not be compiled nor linked.
    如果`CONFIG_FOO`既不是`y`也不是`m`，则该文件将不会被编译或链接。
</code></pre><h2 id=32-built-in-object-goals---obj-y>3.2 Built-in object goals - obj-y</h2><pre><code>    The kbuild Makefile specifies object files for vmlinux
    in the $(obj-y) lists.  These lists depend on the kernel
    configuration.
    `kbuild Makefile`在`$(obj-y)`中指定构建`vmlinux`所需要的目标文件列表。文件列表取决于内核的配置。

    Kbuild compiles all the $(obj-y) files.  It then calls
    &quot;$(AR) rcSTP&quot; to merge these files into one built-in.a file.
    This is a thin archive without a symbol table. It will be later
    linked into vmlinux by scripts/link-vmlinux.sh
    `Kbuild`编译所有`$(obj-y)`文件。 然后，它调用“ $（AR）rcSTP”将这些文件合并为一个`built-in.a`文件。这是一个没有符号表的精简归档文件,稍后将通过`scripts / link-vmlinux.sh`将其链接到`vmlinux`中。


    The order of files in $(obj-y) is significant.  Duplicates in
    the lists are allowed: the first instance will be linked into
    built-in.a and succeeding instances will be ignored.
</code></pre><p><code>$(obj-y)</code>列表中文件的顺序是重要的，列表中的文件是可以重复的，同一个文件第一次出现在列表中时将被连接进<code>built-in.a</code>，其他重复的文件名将被忽略。
Link order is significant, because certain functions</p><pre><code>    (module_init() / __initcall) will be called during boot in the
    order they appear. So keep in mind that changing the link
    order may e.g. change the order in which your SCSI
    controllers are detected, and thus your disks are renumbered.
</code></pre><p>链接顺序很重要，因为某些功能（module_init（）/ __initcall）将在引导过程中按它们出现的顺序被调用。 因此请记住，更改链接顺序可能例如 更改检测SCSI控制器的顺序，从而对磁盘重新编号。</p><pre><code>    Example::

            #drivers/isdn/i4l/Makefile
            # Makefile for the kernel ISDN subsystem and device drivers.
            # Each configuration option enables a list of files.
            obj-$(CONFIG_ISDN_I4L)         += isdn.o
            obj-$(CONFIG_ISDN_PPP_BSDCOMP) += isdn_bsdcomp.o
</code></pre><h2 id=可加载模块目标---obj-m>3.3 Loadable module goals - obj-m
可加载模块目标 - obj-m</h2><pre><code>    $(obj-m) specifies object files which are built as loadable
    kernel modules.
    `$(obj-m)`定义可以编译为可加载模块的目标文件。

    A module may be built from one source file or several source
    files. In the case of one source file, the kbuild makefile
    simply adds the file to $(obj-m).
    一个模块可以由一个源文件或者多个源文件构建。对于一个源文件的情况，`kbuild makefile`只是将文件添加到`$(obj-m)`。

    Example::

            #drivers/isdn/i4l/Makefile
            obj-$(CONFIG_ISDN_PPP_BSDCOMP) += isdn_bsdcomp.o

    Note: In this example $(CONFIG_ISDN_PPP_BSDCOMP) evaluates to 'm'
    注意：在此示例中，`$(CONFIG_ISDN_PPP_BSDCOMP)`定义为“ m”

    If a kernel module is built from several source files, you specify that you want to build a module in the same way as above; however,kbuild needs to know which object files you want to build your module from, so you have to tell it by setting a $(&lt;module_name&gt;-y) variable.
    如果一个内核模块式由多个源文件构建，要以与上述相同的方式构建一个模块； 但是，`kbuild`需要知道要从哪个目标文件构建模块，因此必须通过设置`$(&lt;module_name&gt; -y)`变量来告诉它。
    
    Example::

            #drivers/isdn/i4l/Makefile
            obj-$(CONFIG_ISDN_I4L) += isdn.o
            isdn-y := isdn_net_lib.o isdn_v110.o isdn_common.o

    In this example, the module name will be isdn.o. Kbuild will
    compile the objects listed in $(isdn-y) and then run
    &quot;$(LD) -r&quot; on the list of these files to generate isdn.o.
	在此例中，模块名字为`isdn.o`。`Kbuild`将编译`$(isdn-y)`列出的文件，之后运行 &quot;$(LD) -r&quot;以生成`isdn.o`。     

    Due to kbuild recognizing $(&lt;module_name&gt;-y) for composite objects, you can use the value of a `CONFIG_` symbol to optionally include an object file as part of a composite object.
    由于`kbuild`以变量`$(&lt;module_name&gt;-y)`识别复合对象，因此可以使用`CONFIG_`符号的值来选择性的将对象包含为复合对象的一部分。

    Example::

            #fs/ext2/Makefile
            obj-$(CONFIG_EXT2_FS) += ext2.o
            ext2-y := balloc.o dir.o file.o ialloc.o inode.o ioctl.o \
                      namei.o super.o symlink.o                                     ext2-$(CONFIG_EXT2_FS_XATTR) += xattr.o xattr_user.o \
                                            xattr_trusted.o

    In this example, xattr.o, xattr_user.o and xattr_trusted.o are only part of the composite object ext2.o if $(CONFIG_EXT2_FS_XATTR) evaluates to 'y'.
    在此例中，如果`$(CONFIG_EXT2_FS_XATTR) `定义为'y'，`xattr.o`, `xattr_user.o` 和 `xattr_trusted.o`只是复合对象`ext2.o`的一部分。

    Note: Of course, when you are building objects into the kernel, the syntax above will also work. So, if you have CONFIG_EXT2_FS=y, kbuild will build an ext2.o file for you out of the individual parts and then link this into built-in.a, as you would expect.
    注意：当然，当您将对象构建到内核中时，以上语法也将起作用。因此如果定义了 `CONFIG_EXT2_FS=y`,`kbuild`将根据各个部分为您构建一个ext2.o文件，然后将其链接到Built-in.a中。
</code></pre><h2 id=导出符号的目标>3.4 Objects which export symbols
导出符号的目标</h2><pre><code>    No special notation is required in the makefiles for
    modules exporting symbols.
    对于导出符号的模块，makefile中不需要特殊的符号。
</code></pre><h2 id=库文件目标---lib-y>3.5 Library file goals - lib-y
库文件目标 - lib-y</h2><pre><code>    Objects listed with obj-* are used for modules, or
    combined in a built-in.a for that specific directory.
    There is also the possibility to list objects that will
    be included in a library, lib.a.
    用`obj- *`列出的对象用于模块，或组合到该特定目录的`built-in.a`中。也有可能列出将包含在库lib.a中的对象。
    
    All objects listed with lib-y are combined in a single
    library for that directory.
    `lib-y`列出的所有对象都合并到该目录的单个库中。
    Objects that are listed in obj-y and additionally listed in
    lib-y will not be included in the library, since they will
    be accessible anyway.
    obj-y中列出的对象以及lib-y外列出的对象将不包含在库中，因为无论如何它们都可以访问。 
    For consistency, objects listed in lib-m will be included in lib.a.
    为了保持一致性，lib-m中列出的对象将包含在lib.a中。

    Note that the same kbuild makefile may list files to be built-in
    and to be part of a library. Therefore the same directory
    may contain both a built-in.a and a lib.a file.
</code></pre><p>请注意，相同的kbuild makefile可能会列出要built-in的文件并成为库的一部分。 因此，同一目录可能同时包含一个built-in.a和一个lib.a文件。</p><pre><code>    Example::

            #arch/x86/lib/Makefile
            lib-y    := delay.o

    This will create a library lib.a based on delay.o. For kbuild to
    actually recognize that there is a lib.a being built, the directory
    shall be listed in libs-y.
    这将基于delay.o创建一个库lib.a。 为了使kbuild实际上识别出正在构建一个lib.a，该目录应在libs-y中列出。

    See also &quot;6.4 List directories to visit when descending&quot;.
    参见&quot;6.4 List directories to visit when descending&quot;

    Use of lib-y is normally restricted to `lib/` and `arch/*/lib`.
    lib-y的使用通常仅限于`lib /`和`arch / * / lib`。
</code></pre><h2 id=36-descending-down-in-directories>3.6 Descending down in directories</h2><pre><code>    A Makefile is only responsible for building objects in its own
    directory. Files in subdirectories should be taken care of by
    Makefiles in these subdirs. The build system will automatically
    invoke make recursively in subdirectories, provided you let it know of
    them.
</code></pre><p>Makefile仅负责在其自己的目录中构建对象。 子目录中的文件应由这些子目录中的Makefile处理。 构建系统将自动在子目录中递归调用make，前提是让makefile知道需要编译的文件。</p><pre><code>    To do so, obj-y and obj-m are used.
    为此，使用obj-y和obj-m。
    ext2 lives in a separate directory, and the Makefile present in fs/
    tells kbuild to descend down using the following assignment.
    ext2位于一个单独的目录中，并且fs/中的Makefile使用以下赋值告诉kbuild递归构建。

    Example::

            #fs/Makefile
                obj-$(CONFIG_EXT2_FS) += ext2/

    If CONFIG_EXT2_FS is set to either 'y' (built-in) or 'm' (modular)the corresponding obj- variable will be set, and kbuild will descend down in the ext2 directory.
    如果将CONFIG_EXT2_FS设置为“ y”（built-in 编译进内核）或“ m”（编译模块），则将设置相应的obj-变量，并且kbuild将在ext2目录中构建。
    Kbuild uses this information not only to decide that it needs to visit the directory, but also to decide whether or not to link objects from the directory into vmlinux.
    Kbuild使用此信息不仅决定需要访问目录，还决定是否将目录中的对象链接到vmlinux。

    When Kbuild descends into the directory with 'y', all built-in objects from that directory are combined into the built-in.a, which will be eventually linked into vmlinux.
	当Kbuild递归到带有“ y”的目录时，该目录中的所有build-in对象都将合并到built-in.a中，最终将其链接到vmlinux中。
	
    When Kbuild descends into the directory with 'm', in contrast, nothing from that directory will be linked into vmlinux. If the Makefile in that directory specifies obj-y, those objects will be left orphan.
    It is very likely a bug of the Makefile or of dependencies in Kconfig.
    相反，当Kbuild以'm'进入目录时，该目录中的任何内容都不会链接到vmlinux。 如果该目录中的Makefile指定obj-y，则这些对象将保持孤立状态。
     很可能是Makefile或Kconfig中的依赖项的错误。

    It is good practice to use a `CONFIG_` variable when assigning directory names. This allows kbuild to totally skip the directory if the corresponding `CONFIG_` option is neither 'y' nor 'm'.
    分配目录名称时，最好使用`CONFIG_`变量。 如果相应的CONFIG_选项既不是'y'也不是'm'，这将使kbuild完全跳过目录。
</code></pre><h2 id=编译选项>3.7 Compilation flags
编译选项</h2><pre><code>ccflags-y, asflags-y and ldflags-y
    These three flags apply only to the kbuild makefile in which they are assigned. They are used for all the normal cc, as and ld invocations happening during a recursive build.
    
    Note: Flags with the same behaviour were previously named:
    EXTRA_CFLAGS, EXTRA_AFLAGS and EXTRA_LDFLAGS.
    They are still supported but their usage is deprecated.

    ccflags-y specifies options for compiling with $(CC).

    Example::

            # drivers/acpi/acpica/Makefile
            ccflags-y                       := -Os -D_LINUX -DBUILDING_ACPICA
            ccflags-$(CONFIG_ACPI_DEBUG)    += -DACPI_DEBUG_OUTPUT

    This variable is necessary because the top Makefile owns the
    variable $(KBUILD_CFLAGS) and uses it for compilation flags for the
    entire tree.

    asflags-y specifies assembler options.

    Example::

            #arch/sparc/kernel/Makefile
            asflags-y := -ansi

    ldflags-y specifies options for linking with $(LD).

    Example::

            #arch/cris/boot/compressed/Makefile
            ldflags-y += -T $(srctree)/$(src)/decompress_$(arch-y).lds

subdir-ccflags-y, subdir-asflags-y
    The two flags listed above are similar to ccflags-y and asflags-y.
    The difference is that the subdir- variants have effect for the kbuild
    file where they are present and all subdirectories.
    Options specified using subdir-* are added to the commandline before
    the options specified using the non-subdir variants.               
</code></pre></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>Yuanye Ma</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2019-04-15</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a href=https://github.com/gohugoio/hugoBasicExample rel=noopener target=_blank>See origin</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/kernel-makefiles/>Kernel Makefiles</a>
<a href=/tags/kernel/>Kernel</a></div><nav class=post-nav><a class=prev href=/post/os/linux-kernel/2020-10-06-platform%E6%80%BB%E7%BA%BF%E9%A9%B1%E5%8A%A8/><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg>
</i><span class="prev-text nav-default">platform总线驱动</span>
<span class="prev-text nav-mobile">Prev</span>
</a><a class=next href=/post/os/linux-kernel/submit-patch/><span class="next-text nav-default">提交内核patch</span>
<span class="prev-text nav-mobile">Next</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697c-11.777231-11.500939-30.216186-10.304694-41.178865 2.712784z"/></svg></i></a></nav></footer></article></div><nav class=toc id=toc><div class=toc-title>Table of Contents</div><div class="toc-content custom-scrollbar"><nav id=TableOfContents><ul><li><a href=#31-goal-definitions>3.1 节“目标定义” (&ldquo;Goal definitions&rdquo; )是一个快速的大概介绍；后边的章节将给出更多细节以及实际的例子。
3.1 Goal definitions</a></li><li><a href=#32-built-in-object-goals---obj-y>3.2 Built-in object goals - obj-y</a></li><li><a href=#可加载模块目标---obj-m>3.3 Loadable module goals - obj-m
可加载模块目标 - obj-m</a></li><li><a href=#导出符号的目标>3.4 Objects which export symbols
导出符号的目标</a></li><li><a href=#库文件目标---lib-y>3.5 Library file goals - lib-y
库文件目标 - lib-y</a></li><li><a href=#36-descending-down-in-directories>3.6 Descending down in directories</a></li><li><a href=#编译选项>3.7 Compilation flags
编译选项</a></li></ul></nav></div></nav></div></main><footer id=footer class=footer><div class=icon-links><a href=yuanye.ma@qq.com rel="me noopener" class=iconfont title=email target=_blank><svg class="icon" viewBox="0 0 1451 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg>
</a><a href=https://www.linkedin.com/in/yuanye-ma-210b6836a/ rel="me noopener" class=iconfont title=linkedin target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="33" height="33"><path d="M872.405333 872.618667H720.768V635.008c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333.0-91.136 61.653333-91.136 125.397334v241.792H398.976V384H544.64v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667.0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667.0 01-88.021333-88.106666A88.064 88.064.0 11227.712 317.141333zm76.032 555.477334H151.68V384h152.064v488.618667zM948.266667.0h-872.704C33.792.0.0 33.024.0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667.0 948.138667.0h.128z"/></svg>
</a><a href=https://github.com/YuanyeMa rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" style="" viewBox="0 0 1024 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04C242.005334 929.664 211.968 830.08 211.968 830.08 188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg>
</a><a href=https://www.zhihu.com/people/mr-kevin-92/posts rel="me noopener" class=iconfont title=zhihu target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M351.791182 562.469462h192.945407c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262h159.282726s-.86367-67.402109-18.578124-67.402109-279.979646.0-279.979646.0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461s24.62791 5.832845 36.941354.0c12.313443-5.832845 68.050885-25.924439 84.252893-103.69571h86.570681c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262H109.86113c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449H279.868105c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513.0.0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-.055259.185218 167.855986 193.263655s22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-.045025.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"/><path d="M584.918753 182.033893v668.840094h70.318532l28.807093 80.512708 121.875768-80.512708h153.600307L959.520453 182.033893h-374.6017zM887.150192 778.934538h-79.837326l-99.578949 65.782216-23.537066-65.782216h-24.855084L659.341766 256.673847h227.807403V778.934538z"/></svg>
</a><a href="https://space.bilibili.com/159072924?spm_id_from=333.1007.0.0" rel="me noopener" class=iconfont title=bilibili target=_blank><svg class="icon" style="" viewBox="0 0 1024 1024" width="36" height="36" id="svg8"><path style="" d="M744.60599.00486267A41.779915 41.779915.0 00710.4184 18.673394L548.5048 255.32642h-11.70046a41.779915 41.779915.0 00-10.80295-7.84928L235.66 97.084498a41.779915 41.779915.0 00-20.07193-4.960864 41.779915 41.779915.0 00-18.3748 79.145436L359.4859 255.32642H128.16909c-49.458302.0-89.27932 39.82105-89.27932 89.27932v508.65224c0 49.4583 39.821018 89.27934 89.27932 89.27934h19.48445C149.12802 984.5043 179.92773 1024 224.79179 1024c44.86407.0 75.66379-39.4957 77.13826-81.46268H719.98116C721.45559 984.5043 752.25533 1024 797.1194 1024c44.86406.0 75.6638-39.4957 77.13824-81.46268h21.57323c49.45831.0 89.27936-39.82104 89.27936-89.27934V344.60574c0-49.45827-39.82105-89.27932-89.27936-89.27932H649.74567L779.38103 65.866924A41.779915 41.779915.0 00744.60599.00486267zM644.49108 418.70871c6.29985.21538 12.44451 2.01107 17.86888 5.22196l171.36218 98.10771c18.23417 10.21935 24.63334 33.34627 14.24614 51.48533-10.38726 18.13909-33.57344 24.32718-51.61587 13.77296L624.9903 489.18895c-15.21356-8.41858-22.66871-26.1765-18.03211-42.93436 4.63664-16.75784 20.15573-28.14465 37.53289-27.54588zM350.2006 432.31846c16.89952.0317 31.69582 11.33328 36.17844 27.62747 4.48262 16.2942-2.44981 33.57765-16.95507 42.24898l-140.7157 86.91312c-17.68528 11.18244-41.09629 5.77692-52.08912-12.02686-10.99282-17.80373-5.33855-41.15658 12.58167-51.95857L329.9002 438.2095c6.0643-3.86439 13.10951-5.90891 20.3004-5.89104zM501.605 641.53985c3.75002-.15248 7.48645.53903 10.93349 2.0235.15842.0637.31618.12888.47325.19582.59328.27092 1.17574.56489 1.74609.88121.15868.0854.31643.17233.47325.2611.55694.32165 1.10131.66458 1.63185 1.02807.16455.1123.32777.2265.48956.34269.50382.36781.99371.75428 1.46868 1.15864.18724.15504.37218.31282.55484.47323.43271.38784.8518.79061 1.25653 1.20756.15449.16114.30679.32437.45693.48959.40798.44266.79989.89988 1.17494 1.37076.17799.22544.35205.45395.5222.68538.25932.34701.50964.70071.75064 1.06071.26712.39516.52286.79784.76699 1.20757.16907.29043.33231.58424.48957.88123.21836.41297.42513.83199.62009 1.25653.14836.32333.28983.64976.42429.97911.21319.51552.40915 1.03801.58747 1.5666.0677.19499.13296.39085.19582.58748.18652.60823.34984 1.22334.48957 1.84399.0397.16277.0779.32601.11423.48957.1436.69112.25788 1.38801.34269 2.08877.005.0381.0111.0761.0163.11424.0857.78056.13474 1.56471.14687 2.34988.005.0543.0111.10879.0163.1632.0.0-.008 1.12132.0 1.45234.0.0-.14697 17.84761 5.89102 34.12231 3.01902 8.13734 7.33278 15.10615 12.61433 19.61501 5.28157 4.50889 11.42894 7.62081 23.64572 7.62081 12.2168.0 18.36416-3.11192 23.64573-7.62081 5.28154-4.50886 9.5953-11.47767 12.6143-19.61501 6.03799-16.2747 5.89103-34.12231 5.89103-34.12231-.44885-13.87045 10.45922-25.46302 24.3311-25.86506 13.87189-.40201 25.42828 10.53953 25.78348 24.41272.0.0 1.11929 25.7226-9.00791 53.01927-5.06359 13.64832-13.1986 28.46036-27.05631 40.29073-13.85772 11.83039-33.5454 19.63135-56.20142 19.63135-22.65603.0-42.34371-7.80096-56.20141-19.63135-4.1801-3.56856-7.78733-7.42433-10.99878-11.42303-3.21235 4.00037-6.81703 7.85309-10.99876 11.42303-13.85773 11.83039-33.5454 19.63135-56.20144 19.63135-22.65601.0-42.3437-7.80096-56.2014-19.63135-13.85775-11.83037-21.99272-26.64241-27.05632-40.29073-10.12725-27.29667-9.00789-53.01928-9.00789-53.01927.20714-13.83687 11.58744-24.88848 25.42444-24.69013 14.1263.19991 25.2971 12.0278 24.69011 26.14247.0.0-.14697 17.84761 5.89103 34.12231 3.01902 8.13734 7.31646 15.10615 12.598 19.61501 5.28155 4.50889 11.44526 7.62081 23.66203 7.62081 12.21681.0 18.36418-3.11192 23.64573-7.62081 5.28154-4.50886 9.57899-11.47767 12.598-19.61501 5.76352-15.53489 5.89112-32.05691 5.89103-33.56746.006-.37466.0111-1.05336.0163-1.20759-.0117-.74583.0105-1.49177.0652-2.23565.009-.15784.0204-.31561.0327-.47324.14204-1.56859.43163-3.12027.86487-4.63449.0213-.0763.0433-.15244.0652-.22848 3.0335-10.25748 12.24157-17.46007 22.92769-17.93417z" id="rect824"/></svg>
</a><a href=/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667v-199.04c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span><span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a>
</span><span class=copyright-year>&copy;
2024 -
2025
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg>
</i></span><span class=author>Yuanye Ma</span></span></div></footer><div class=button__back-to-top><a href=#back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></a></div></div><script type=text/javascript src=/lib/jquery/jquery-3.7.1.min.js></script><script type=text/javascript src=/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=/js/main.ddb067601dbea435ee282433c7362972c226a69b9e24dcc8b5d0115b68defa08.js integrity="sha256-3bBnYB2+pDXuKCQzxzYpcsImppueJNzItdARW2je+gg=" crossorigin=anonymous></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script></body></html>