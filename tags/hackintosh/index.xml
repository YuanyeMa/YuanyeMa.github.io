<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hackintosh on Yuanye Ma's Blog</title><link>/tags/hackintosh/</link><description>Recent content in Hackintosh on Yuanye Ma's Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>yuanye.ma@qq.com (Yuanye Ma)</managingEditor><webMaster>yuanye.ma@qq.com (Yuanye Ma)</webMaster><lastBuildDate>Mon, 13 May 2019 16:01:23 +0800</lastBuildDate><atom:link href="/tags/hackintosh/index.xml" rel="self" type="application/rss+xml"/><item><title>在黑苹果上部署开发环境</title><link>/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</link><pubDate>Mon, 13 May 2019 16:01:23 +0800</pubDate><author>yuanye.ma@qq.com (Yuanye Ma)</author><guid>/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</guid><description>&lt;h1 id="在黑苹果上部署开发环境"&gt;在黑苹果上部署开发环境&lt;/h1&gt;
&lt;h1 id="使用ubuntu的nfs"&gt;使用ubuntu的nfs&lt;/h1&gt;
&lt;p&gt;首先在ubuntu上安装nfs服务&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo apt install nfs-kernel-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;创建共享目录并赋予权限&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-1-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-1-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir /home/rl/share
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chmod &lt;span style="color:#40a070"&gt;777&lt;/span&gt; /home/rl/share
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;配置&lt;code&gt;/etc/exports&lt;/code&gt;文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-3"&gt;3&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-2-4"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-2-4"&gt;4&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo vim /etc/exports
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#60a0b0;font-style:italic"&gt;# 写入下边内容&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/home/rl/share *&lt;span style="color:#666"&gt;(&lt;/span&gt;rw,sync,insecure,no_subtree_check,no_root_squash&lt;span style="color:#666"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#60a0b0;font-style:italic"&gt;# 注意 `insecure`必须填，不然在macos的Finder中无法访问nfs目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;在&lt;code&gt;MacOS&lt;/code&gt;中访问&lt;code&gt;ubuntu&lt;/code&gt;的&lt;code&gt;nfs&lt;/code&gt;目录&lt;/p&gt;
&lt;p&gt;首先在终端中查看共享目录共享是否成功&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-3-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-3-3"&gt;3&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ showmount -e 192.168.50.30
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Exports list on 192.168.50.30:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/home/rl/share *
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;然后在&lt;code&gt;Finder&lt;/code&gt;中链接nfs服务&lt;/p&gt;
&lt;p&gt;在&lt;code&gt;Finder&lt;/code&gt;图标上右键选择&lt;code&gt;连接服务器&lt;/code&gt;，填入共享目录，如下图点击&lt;code&gt;connect&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/finder-nfs.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/finder.png" alt=""&gt;&lt;/p&gt;
&lt;h1 id="深度学习环境搭建"&gt;深度学习环境搭建&lt;/h1&gt;
&lt;p&gt;参照&lt;a href="https://blog.csdn.net/wz22881916/article/details/78807993/"&gt;此教程&lt;/a&gt;安装CUDA&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/0.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="nvidia-driver"&gt;Nvidia driver&lt;/h2&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/1.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="cuda-driver"&gt;CUDA driver&lt;/h2&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/2.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="cuda-toolkits"&gt;CUDA Toolkits&lt;/h2&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/3.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/4.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/5.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/6.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/7.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;添加环境变量&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-3"&gt;3&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-4"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-4"&gt;4&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-5"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-5"&gt;5&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-4-6"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-4-6"&gt;6&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#007020"&gt;export&lt;/span&gt; &lt;span style="color:#bb60d5"&gt;CUDA_HOME&lt;/span&gt;&lt;span style="color:#666"&gt;=&lt;/span&gt;/usr/local/cuda
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#007020"&gt;export&lt;/span&gt; &lt;span style="color:#bb60d5"&gt;DYLD_LIBRARY_PATH&lt;/span&gt;&lt;span style="color:#666"&gt;=&lt;/span&gt;&lt;span style="color:#4070a0"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#bb60d5"&gt;$CUDA_HOME&lt;/span&gt;&lt;span style="color:#4070a0"&gt;/lib:&lt;/span&gt;&lt;span style="color:#bb60d5"&gt;$CUDA_HOME&lt;/span&gt;&lt;span style="color:#4070a0"&gt;/extras/CUPTI/lib&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#007020"&gt;export&lt;/span&gt; &lt;span style="color:#bb60d5"&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span style="color:#666"&gt;=&lt;/span&gt;&lt;span style="color:#bb60d5"&gt;$DYLD_LIBRARY_PATH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#007020"&gt;export&lt;/span&gt; &lt;span style="color:#bb60d5"&gt;PATH&lt;/span&gt;&lt;span style="color:#666"&gt;=&lt;/span&gt;&lt;span style="color:#bb60d5"&gt;$DYLD_LIBRARY_PATH&lt;/span&gt;:&lt;span style="color:#bb60d5"&gt;$PATH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#007020"&gt;export&lt;/span&gt; &lt;span style="color:#bb60d5"&gt;flags&lt;/span&gt;&lt;span style="color:#666"&gt;=&lt;/span&gt;&lt;span style="color:#4070a0"&gt;&amp;#34;--config=cuda --config=opt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#007020"&gt;export&lt;/span&gt; &lt;span style="color:#bb60d5"&gt;PATH&lt;/span&gt;&lt;span style="color:#666"&gt;=&lt;/span&gt;&lt;span style="color:#4070a0"&gt;&amp;#34;/Developer/NVIDIA/CUDA-9.2/bin:&lt;/span&gt;&lt;span style="color:#bb60d5"&gt;$PATH&lt;/span&gt;&lt;span style="color:#4070a0"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#60a0b0;font-style:italic"&gt;#nvcc 命令路径&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;以下为尝试，未能解决问题。&lt;/p&gt;
&lt;p&gt;首先需要安装&lt;code&gt;Xcode&lt;/code&gt;，登录&lt;a href="https://developer.apple.com/download/more/"&gt;苹果开发者&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/1557821485474.png" alt="1557821485474"&gt;&lt;/p&gt;
&lt;p&gt;下载完成后得到一个&lt;code&gt;.xip&lt;/code&gt;压缩文件，双击进行校验，校验完成后会自动解压。解压完成得到&lt;code&gt;Xcode.app&lt;/code&gt;拖进&lt;code&gt;/Applications&lt;/code&gt;中完成安装。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-1"&gt; 1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-2"&gt; 2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-3"&gt; 3&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-4"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-4"&gt; 4&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-5"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-5"&gt; 5&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-6"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-6"&gt; 6&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-7"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-7"&gt; 7&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-8"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-8"&gt; 8&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-9"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-9"&gt; 9&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-10"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-10"&gt;10&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-5-11"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-5-11"&gt;11&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;再次执行编译命令
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;make -C ./1_Utilities/deviceQuery
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;然后会显示
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Agreeing to the Xcode/iOS licese requires admin privileges, please run &lt;span style="color:#4070a0"&gt;`&lt;/span&gt;sudo xcodebuild -license &lt;span style="color:#4070a0"&gt;`&lt;/span&gt; and &lt;span style="color:#007020;font-weight:bold"&gt;then&lt;/span&gt; retry this &lt;span style="color:#007020"&gt;command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;然后执行
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo xcodebuild -license
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;按回车
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;按space直到最后然后输入 agree
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;再次执行编译命令,报错
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nvcc fatal : The version &lt;span style="color:#666"&gt;(&lt;/span&gt;&lt;span style="color:#4070a0"&gt;&amp;#39;10.0&amp;#39;&lt;/span&gt;&lt;span style="color:#666"&gt;)&lt;/span&gt; of the host compiler &lt;span style="color:#666"&gt;(&lt;/span&gt;&lt;span style="color:#4070a0"&gt;&amp;#39;Apple clang&amp;#39;&lt;/span&gt;&lt;span style="color:#666"&gt;)&lt;/span&gt; is not supported
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;网上找到&lt;a href="https://www.twblogs.net/a/5c1f8fedbd9eee16b3daa981/"&gt;解决方案&lt;/a&gt;，此错误是&lt;code&gt;Xcode Command Line&lt;/code&gt;版本太高了，需要切换为低版本的。&lt;/p&gt;
&lt;p&gt;下载安装&lt;code&gt;Command Line Tools macOS 10.13 for Xcode9.2&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-6-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-6-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo xcode-select --switch /Library/Developer/CommandLineTools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/00.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;如图，编译成功，执行编译完的程序，发现能够正常识别显卡。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/01.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="cudnn"&gt;cudnn&lt;/h2&gt;
&lt;p&gt;参照教程我也下载了&lt;code&gt;cudnn v7.2.1&lt;/code&gt;下载完成双击解压，然后按照下边过程安装。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-1"&gt; 1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-2"&gt; 2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-3"&gt; 3&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-4"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-4"&gt; 4&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-5"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-5"&gt; 5&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-6"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-6"&gt; 6&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-7"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-7"&gt; 7&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-8"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-8"&gt; 8&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-9"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-9"&gt; 9&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-10"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-10"&gt;10&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-11"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-11"&gt;11&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-7-12"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-7-12"&gt;12&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ sudo cp cuda/include/cudnn.h /usr/local/cuda/include/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ sudo cp cuda/lib/libcudnn* /usr/local/cuda/lib/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib/libcudnn*
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ vim ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;写入：export &lt;span style="color:#bb60d5"&gt;DYLD_LIBRARY_PATH&lt;/span&gt;&lt;span style="color:#666"&gt;=&lt;/span&gt;/usr/local/cuda/lib/:&lt;span style="color:#bb60d5"&gt;$DYLD_LIBRARY_PATH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ &lt;span style="color:#007020"&gt;source&lt;/span&gt; ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;测试
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$ &lt;span style="color:#007020"&gt;echo&lt;/span&gt; -e &lt;span style="color:#4070a0"&gt;&amp;#39;#include &amp;#34;cudnn.h&amp;#34;\n void main(){}&amp;#39;&lt;/span&gt; | &lt;span style="color:#4070a0;font-weight:bold"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#4070a0;font-weight:bold"&gt;&lt;/span&gt;nvcc -x -c - -o /dev/null -I/usr/local/cuda/include &lt;span style="color:#4070a0;font-weight:bold"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#4070a0;font-weight:bold"&gt;&lt;/span&gt;-L /usr/local/cuda/lib -lcudnn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/02.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="测试"&gt;测试&lt;/h2&gt;
&lt;h3 id="cuda"&gt;cuda&lt;/h3&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/03.png" alt=""&gt;&lt;/p&gt;
&lt;h3 id="cudnn-1"&gt;cudnn&lt;/h3&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/04.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="pytorch"&gt;pytorch&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;cuda&lt;/code&gt;和&lt;code&gt;cudnn&lt;/code&gt;都安装完了后，安装pytorch。&lt;/p&gt;
&lt;p&gt;首先按照这篇&lt;a href="http://richard.blog.nctu.edu.tw/pytorch/"&gt;&lt;code&gt;blog&lt;/code&gt;&lt;/a&gt;尝试安装&lt;code&gt;pytorch 0.4.0&lt;/code&gt;但是切换到&lt;code&gt;v0.4.0&lt;/code&gt;执行&lt;code&gt;git submodule update init&lt;/code&gt;的时候一直报 错，说找不到仓库。&lt;/p&gt;
&lt;p&gt;后按照另外一篇&lt;a href="https://oldpan.me/archives/pytorch-build-simple-instruction"&gt;&lt;code&gt;blog&lt;/code&gt;&lt;/a&gt;，直接安装&lt;code&gt;pytorch 1.1.0&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-8-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-8-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-8-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-8-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-8-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-8-3"&gt;3&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git clone --recursive https://github.com/pytorch/pytorch
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git submodule update --init --recursive
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;python setup.py install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;安装完成后需要切换出&lt;code&gt;pytorch&lt;/code&gt;的源码目录，再执行&lt;code&gt;python&lt;/code&gt;然后&lt;code&gt;import torch&lt;/code&gt;才有效，不然会报错&lt;code&gt;ModuleNotFoundError: No module named 'torch._C'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%9C%A8%E9%BB%91%E8%8B%B9%E6%9E%9C%E4%B8%8A%E9%83%A8%E7%BD%B2%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/pytorch.png" alt=""&gt;&lt;/p&gt;</description></item><item><title>Hackintosh</title><link>/post/hackintosh/hackintosh/</link><pubDate>Mon, 15 Apr 2019 16:01:23 +0800</pubDate><author>yuanye.ma@qq.com (Yuanye Ma)</author><guid>/post/hackintosh/hackintosh/</guid><description>&lt;h1 id="黑苹果安装步骤简记"&gt;黑苹果安装步骤简记&lt;/h1&gt;
&lt;p&gt;最近突然对安装黑苹果系统很感兴趣，就上网找了一些资料来看看，下边简单记录一下我的收获。以下操作都在虚拟机中进行。&lt;a href="/resources/2019415"&gt;工具软件在这里&lt;/a&gt;(显示不出来了，可以直接到tonymac.com下载)&lt;/p&gt;
&lt;p&gt;今天无意间发现&lt;a href="https://www.sqlsec.com/2018/07/hackintosh.html#toc-heading-1"&gt;大神们&lt;/a&gt;整理的&lt;a href="https://dev.tencent.com/u/sqlsec/p/Coding_clover/git/tree/1d6efb70475a2a1bf2477a1fa479fbf5baf98281"&gt;资源&lt;/a&gt;，然后刚好和我的一台台式机型号匹配，打算有时间的时候操刀试试。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="目录"&gt;目录&lt;/h2&gt;
&lt;h2 id="toc"&gt;{:toc}&lt;/h2&gt;
&lt;h2 id="1-下载镜像"&gt;1. 下载镜像&lt;/h2&gt;
&lt;p&gt;我在win里边装了一个macos的虚拟机，在app sotre中下载的mojave镜像。不过下载的时候有一个小插曲，我虚拟机装的是10.11.6的，在app store中只能下载22.8MB的一个在线升级工具，最后通过&lt;a href="http://dosdude1.com/mojave/"&gt;这个工具&lt;/a&gt;下载到了完整的6G+的镜像。此外其他版本的完整镜像也可以通过&lt;a href="http://dosdude1.com/software.html"&gt;这个工具&lt;/a&gt;下载。&lt;/p&gt;
&lt;h2 id="2-制作启动u盘"&gt;2. 制作启动U盘&lt;/h2&gt;
&lt;p&gt;制作启动U盘有很多中方式，前题是U盘必须转换为GUID格式。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;windows 下可以使用&lt;a href="https://www.acutesystems.com/scrtm.htm"&gt;transmac&lt;/a&gt;软件制作&lt;/li&gt;
&lt;li&gt;使用镜像中的工具制作&lt;/li&gt;
&lt;li&gt;使用tonymacx86论坛提供的UniBeats工具制作&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="格式化u盘"&gt;格式化U盘&lt;/h3&gt;
&lt;p&gt;在虚拟机中新建一个大小为10G的硬盘，插入后MacOS会检测到，然后点击&lt;code&gt;Initialize...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/initialize-01.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/initialize-02.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;左边选择好要擦除的硬盘后，点击上方的&lt;code&gt;Erase&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/initialize-03.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Name&lt;/code&gt;随便写，&lt;code&gt;Format&lt;/code&gt;选择&lt;code&gt;OS X Extended&lt;/code&gt;， 最后一行的&lt;code&gt;Scheme&lt;/code&gt; 一定选&lt;code&gt;GUID&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/initialize-04.png" alt=""&gt;&lt;/p&gt;
&lt;h3 id="方式一使用镜像中的工具制作"&gt;方式一：使用镜像中的工具制作&lt;/h3&gt;
&lt;p&gt;命令如下 :&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-3"&gt;3&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo /Applications/Install&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;macOS&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;Mojave.app/Contents/Resources/createinstallmedia &lt;span style="color:#4070a0;font-weight:bold"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#4070a0;font-weight:bold"&gt;&lt;/span&gt;--volume /Volumes/Mojave /Applications/Install&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;macOS&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;Mojave.app &lt;span style="color:#4070a0;font-weight:bold"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#4070a0;font-weight:bold"&gt;&lt;/span&gt;--nointeraction
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;其中&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;第一项：&lt;code&gt;/Applications/Install\ macOS\Mojave.app/Contents/Resources/createinstallmedia&lt;/code&gt; 指的是下载好的镜像中的工具的路径；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第二项：&lt;code&gt;--volume /Volumes/Mojave&lt;/code&gt; 指定U盘位置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第三项：&lt;code&gt;/Applications/Install\ macOS\ Mojave.app&lt;/code&gt; 整个安装包的路径&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;操作步骤如下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;右键点击下载好的&lt;code&gt;Mojave&lt;/code&gt;镜像，选择&lt;code&gt;Show Package Contents&lt;/code&gt;， 然后找到&lt;code&gt;Contents -&amp;gt; Resources -&amp;gt; createinstallmedia&lt;/code&gt; 文件，直接拖动放入&lt;code&gt;Terminal；&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;输入&lt;code&gt;--velume /Volumes/you_disk&lt;/code&gt; 可以通过&lt;code&gt;tab&lt;/code&gt;键补全路径名；&lt;/li&gt;
&lt;li&gt;点击返回按钮，返回到没有打开镜像的地方，拖动镜像放入&lt;code&gt;Terminal&lt;/code&gt;中；&lt;/li&gt;
&lt;li&gt;输入密码，输入&lt;code&gt;Y&lt;/code&gt;，开始刻录U盘；&lt;/li&gt;
&lt;li&gt;刻录完成；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/cl-01.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/cl-02.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/cl-done.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;此种方法刻录的U盘好像不用再用&lt;code&gt;Clover&lt;/code&gt;写入引导，我在虚拟机中测试可以引导，具体情况还得到实体机上测试。&lt;/p&gt;
&lt;h3 id="方案二windows下使用transmac软件制作-todo"&gt;方案二：windows下使用transmac软件制作 &amp;ndash;TODO&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://www.acutesystems.com/tmac/tmsetup.zip"&gt;下载&lt;/a&gt;安装后会在桌面生成快捷方式。右键&lt;strong&gt;以管理员身份&lt;/strong&gt;打开。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.xitongcheng.com/jiaocheng/xtazjc_article_41339.html"&gt;教程&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="方案三使用unibeats工具制作"&gt;方案三：使用UniBeats工具制作&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;注：使用的工具都在&lt;code&gt;tonymacx86.com&lt;/code&gt;下载，下载需要登录，注册需要使用国外的邮箱，我使用了gmail。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;先在虚拟机中分了一个10G大小的硬盘当做的我U盘，挂载到Mac的虚拟机后格式化为GPT分区格式。&lt;/p&gt;
&lt;p&gt;然后打开UniBeast工具开始制作。&lt;/p&gt;
&lt;p&gt;此软件要求系统语言是英文，所以如果系统语言不是英文会要求更改，只需打开&lt;code&gt;系统偏好设置&lt;/code&gt; 然后将英文拖动到第一位，点击重启就好了。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-01.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-02.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-03.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-04.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-05.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;点击&lt;code&gt;Agree&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-06.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;选中U盘，我这里前边把U盘命名为&lt;code&gt;boot&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-07.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;选中要刻录的系统，这里的&lt;code&gt;Mojave&lt;/code&gt;系统要拖动到&lt;code&gt;Application&lt;/code&gt;目录中才能自动识别出来。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-08.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;选择&lt;code&gt;UEFI&lt;/code&gt;引导模式。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-09.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;注入显卡驱动&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/UniBeast-10.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;开始拷贝文件&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/coping-file-to-usb.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/copying-done.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;制作完成后桌面会多出来一个EFI分区。&lt;/p&gt;
&lt;h3 id="写入clover引导"&gt;写入Clover引导&lt;/h3&gt;
&lt;p&gt;打开&lt;code&gt;Clover&lt;/code&gt;开始写入引导。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-0.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-1.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-2.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;这里要选择&lt;code&gt;Change Install Location...&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-3.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;选择&lt;code&gt;Install ...&lt;/code&gt; 这个是写入镜像后的U盘，名字变了可以通过分区大小区分。然后点击&lt;code&gt;Continue&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-4.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;点击&lt;code&gt;Customize&lt;/code&gt; 进入配置页面，选择一些必要的驱动，点击&lt;code&gt;Install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-5.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-6.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-7.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;关闭虚拟机，在虚拟机重启时进入BIOS,选择做好的U盘引导系统。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-boot.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="3-配置clover"&gt;3. 配置Clover&lt;/h2&gt;
&lt;p&gt;使用前边制作好的U盘就可以插入电脑从U盘启动了，接下来进入安装黑苹果最难的部分：配置Clover驱动。&lt;/p&gt;
&lt;p&gt;使用&lt;code&gt;Clover Configure&lt;/code&gt;软件进行配置。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-config-1.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;打开软件后，在左边找到&lt;code&gt;Mount EFI&lt;/code&gt; 左下会出现可以挂载的&lt;code&gt;EFI&lt;/code&gt;分区。点击&lt;code&gt;Mount Partition -&amp;gt; Open Parition&lt;/code&gt;。如下图，选择&lt;code&gt;EFI -&amp;gt; CLOVER -&amp;gt; config.plist&lt;/code&gt; 双击打开。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-config-2.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;然后就进入了下边的配置界面。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/hackintosh/clover-config-3.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;后边的内容需要在实体机上根据具体的硬件信息进行配置，暂时不看。&lt;/p&gt;
&lt;h2 id="4-安装系统"&gt;4. 安装系统&lt;/h2&gt;
&lt;h2 id="5-进入系统解决驱动问题"&gt;5. 进入系统解决驱动问题&lt;/h2&gt;
&lt;h2 id="6-将clover引导写入硬盘"&gt;6. 将Clover引导写入硬盘&lt;/h2&gt;</description></item><item><title>制作dmg格式的苹果镜像</title><link>/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/</link><pubDate>Mon, 15 Apr 2019 16:01:23 +0800</pubDate><author>yuanye.ma@qq.com (Yuanye Ma)</author><guid>/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/</guid><description>&lt;h1 id="制作dmg格式的苹果镜像"&gt;制作dmg格式的苹果镜像&lt;/h1&gt;
&lt;p&gt;思路：创建一个dmg镜像，将macos的内容写入dmg，然后将dmg转换为压缩镜像。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557368406153.png" alt="下载好的镜像长这个样子"&gt;&lt;/p&gt;
&lt;p&gt;但是直接拷贝到其他系统中就是一个文件夹。&lt;/p&gt;
&lt;p&gt;开始制作&lt;/p&gt;
&lt;p&gt;一、 创建一个镜像文件&lt;/p&gt;
&lt;p&gt;将&lt;code&gt;Install macOS High Sierra.app&lt;/code&gt;内容复制到桌面的&lt;code&gt;High Sierra&lt;/code&gt;文件夹;&lt;/p&gt;
&lt;p&gt;然后打开&lt;code&gt;Disk Utility&lt;/code&gt;工具，选择&lt;code&gt;File -&amp;gt; New Image -&amp;gt; Image from Folder&lt;/code&gt;;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557368499763.png" alt="disk utility"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557369926752.png" alt="1557369926752"&gt;&lt;/p&gt;
&lt;p&gt;点击桌面上刚才创建的&lt;code&gt;High Sierra&lt;/code&gt;文件夹，选择下边的&lt;code&gt;Choose&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557369997216.png" alt="1557369997216"&gt;&lt;/p&gt;
&lt;p&gt;保存路径选为桌面，镜像格式选择为&lt;code&gt;read/write&lt;/code&gt;，最后选择&lt;code&gt;save&lt;/code&gt;,几分钟后会在桌面生成一个&lt;code&gt;High Sierra.dmg&lt;/code&gt;的镜像文件。&lt;/p&gt;
&lt;p&gt;二、 写入镜像内容&lt;/p&gt;
&lt;p&gt;此部分和制作&lt;code&gt;U&lt;/code&gt;盘镜像的方法一样。&lt;/p&gt;
&lt;p&gt;首先双击刚才生成的&lt;code&gt;High Sierra.dmg&lt;/code&gt;，会在桌面出现&lt;code&gt;High Sierra&lt;/code&gt;挂载点。&lt;/p&gt;
&lt;p&gt;打开终端，输入命令&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;"&gt;&lt;tr&gt;&lt;td style="vertical-align:top;padding:0;margin:0;border:0;"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-1"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-2"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-3"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-3"&gt;3&lt;/a&gt;
&lt;/span&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f" id="hl-0-4"&gt;&lt;a style="outline:none;text-decoration:none;color:inherit" href="#hl-0-4"&gt;4&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%"&gt;
&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo ~/Desktop/Install&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;macOS&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;High&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;Sierra.app/Contents/Resources/createinstallmedia &lt;span style="color:#4070a0;font-weight:bold"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#4070a0;font-weight:bold"&gt;&lt;/span&gt;--volume /Volumes/High&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;Sierra &lt;span style="color:#4070a0;font-weight:bold"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#4070a0;font-weight:bold"&gt;&lt;/span&gt;--applicationpath ~/Desktop/Install&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;macOS&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;High&lt;span style="color:#4070a0;font-weight:bold"&gt;\ &lt;/span&gt;Sierra.app &lt;span style="color:#4070a0;font-weight:bold"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#4070a0;font-weight:bold"&gt;&lt;/span&gt;--nointeraction
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557370690039.png" alt="1557370690039"&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;createinstallmedia&lt;/code&gt;命令的参数列表如下, 个人猜测后边的&lt;code&gt;--applicationpath&lt;/code&gt; 和&lt;code&gt; --nointeraction&lt;/code&gt;参数不加也无所谓&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557370535005.png" alt="1557370535005"&gt;&lt;/p&gt;
&lt;p&gt;命令执行完成后发现，桌面上的卷标从&lt;code&gt;High Sierra&lt;/code&gt; 变为了&lt;code&gt;Install macOS High Sierra&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557370943284.png" alt="1557370943284"&gt;&lt;/p&gt;
&lt;p&gt;推出刚才创建的&lt;code&gt;Install macOS High Sierra&lt;/code&gt;卷，删除桌面上最开始创建的文件夹&lt;code&gt;High Sierra&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;三、转换镜像格式&lt;/p&gt;
&lt;p&gt;打开刚才用到的&lt;code&gt;Disk Utility&lt;/code&gt;工具，点击&lt;code&gt;Images-&amp;gt;Convert&lt;/code&gt;,选择桌面的&lt;code&gt;High Sierra.dmg&lt;/code&gt;,按照如下图的参数，点击&lt;code&gt;Convert&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557372185549.png" alt="1557372185549"&gt;&lt;/p&gt;
&lt;p&gt;四、验证&lt;/p&gt;
&lt;p&gt;双击创建好的&lt;code&gt;macOS High Sierra.dmg&lt;/code&gt;验证完毕后打开如下窗口。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%88%B6%E4%BD%9Cdmg%E6%A0%BC%E5%BC%8F%E7%9A%84%E8%8B%B9%E6%9E%9C%E9%95%9C%E5%83%8F/1557372584098.png" alt="1557372584098"&gt;&lt;/p&gt;
&lt;p&gt;搞定。&lt;/p&gt;</description></item><item><title>尝试安装黑苹果系统</title><link>/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/</link><pubDate>Mon, 15 Apr 2019 16:01:23 +0800</pubDate><author>yuanye.ma@qq.com (Yuanye Ma)</author><guid>/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/</guid><description>&lt;h1 id="尝试吃苹果"&gt;尝试吃苹果&lt;/h1&gt;
&lt;h2 id="系统配置"&gt;系统配置&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;CPU&lt;/th&gt;
&lt;th&gt;i7 7700k&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GPU&lt;/td&gt;
&lt;td&gt;GTX 1050 Ti&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;主板&lt;/td&gt;
&lt;td&gt;ASUS PRIME Z270-P&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;声卡&lt;/td&gt;
&lt;td&gt;瑞昱 ALC887&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;网卡&lt;/td&gt;
&lt;td&gt;瑞昱 RTL8186/8111/8112&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;具体请看鲁大师检测结果(原谅手机的渣像素)&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/LuDashi.jpg" alt="LuDashi"&gt;&lt;/p&gt;
&lt;p&gt;BIOS先恢复默认，然后设置成下边样子。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/BIOS-config.jpg" alt=""&gt;&lt;/p&gt;
&lt;h1 id="u盘启动"&gt;U盘启动&lt;/h1&gt;
&lt;p&gt;本来在虚拟机中装了一个macOS系统，想着使用&lt;code&gt;tonymacx86&lt;/code&gt;网站提供的&lt;code&gt;UniBeast&lt;/code&gt;软件写盘的，但是发现&lt;code&gt;UniBeast&lt;/code&gt;在虚拟机中使用时不能写U盘。&lt;/p&gt;
&lt;p&gt;后使用命令的方式将&lt;code&gt;mac High Sierra.dmg&lt;/code&gt;镜像写入了U盘。&lt;/p&gt;
&lt;p&gt;插入电脑进入&lt;code&gt;BIOS&lt;/code&gt;设置从U盘启动，发现U盘没有引导程序，使用windows下的&lt;code&gt;Transmac&lt;/code&gt;软件或者使用镜像中提供的工具写的U盘都额外需要使用&lt;code&gt;Clover&lt;/code&gt;手动创建引导。创建引导的时候只需要写成&lt;code&gt;EFI&lt;/code&gt;方式就好，其他的无所谓，因为后边还要修改参数。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Clover.png" alt="Clover"&gt;&lt;/p&gt;
&lt;p&gt;刚开始从网上找了一个和自己配置一样的&lt;code&gt;EFI&lt;/code&gt;文件想着偷下懒，直接拖进U盘的&lt;code&gt;EFI&lt;/code&gt;分区，后来发现启动不了，最后按照&lt;a href="https://www.bilibili.com/video/av8653761?from=search&amp;amp;seid=87555593627717333"&gt;B站 爱折腾 前辈&lt;/a&gt;的建议，删掉所有东西&lt;code&gt;遇到问题再添&lt;/code&gt;的思路，删掉了&lt;code&gt;EFI/CLOVER/kexts&lt;/code&gt;目录下的所有东西，只留了一个&lt;code&gt;EFI/CLOVER/kexts/Other/FakeSMC.kext&lt;/code&gt;。并且用&lt;code&gt;Clover Configurator&lt;/code&gt;打开&lt;code&gt;EFI/CLOVER/config.plist&lt;/code&gt;取消&lt;code&gt;ACPI&lt;/code&gt;设置中的所有&lt;code&gt;Fixes&lt;/code&gt;，并删掉了补丁栏目中的所有东西。再次插入U盘重启，打开&lt;code&gt;-v&lt;/code&gt;参数，看到了下边的错误。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/error.jpg" alt="error"&gt;&lt;/p&gt;
&lt;p&gt;网上搜了一番后说是需要在&lt;code&gt;引导参数&lt;/code&gt;中添加&lt;code&gt;-disablegfxfirmware&lt;/code&gt;参数，终于进入U盘引导。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/fix-error.png" alt="fix-error"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/machine-select.png" alt=""&gt;&lt;/p&gt;
&lt;h1 id="格盘装系统"&gt;格盘装系统&lt;/h1&gt;
&lt;p&gt;这部分也纠结了一番，本来win-ubuntu的双系统硬盘还有一百多个G的空余，就想把macos安装在这一百多个G的空间，但是&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/mopan-error.jpg" alt=""&gt;&lt;/p&gt;
&lt;p&gt;后来，又搜索一番后，在这个磁盘的头部分配了一个500MB大小的&lt;code&gt;EFI&lt;/code&gt;分区，才抹盘成功。&lt;/p&gt;
&lt;h1 id="装驱动"&gt;装驱动&lt;/h1&gt;
&lt;h2 id="网卡驱动"&gt;网卡驱动&lt;/h2&gt;
&lt;p&gt;网卡驱动比较好弄，直接用&lt;code&gt;MultiBeast&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Network.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;重启后就可以在&lt;code&gt;关于本机-&amp;gt;系统报告-&amp;gt;网络&lt;/code&gt;部分看到。&lt;img src="images/20190513/Network-1.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;这里还有一点，BIOS中要开启网络堆栈，不然的话进入系统后，能看到网卡，但是&lt;code&gt;系统偏好设置-&amp;gt;网络&lt;/code&gt;部分一直显示&amp;rsquo;未连接&amp;rsquo;或者&amp;rsquo;电缆拔出'&lt;/p&gt;
&lt;h2 id="显卡驱动"&gt;显卡驱动&lt;/h2&gt;
&lt;p&gt;在&lt;a href="https://www.tonymacx86.com/nvidia-drivers/"&gt;tonymacx86/Download/Nvidia Driver&lt;/a&gt;下载&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/NvidisDriver.png" alt=""&gt;点最右边的图标是下载。&lt;/p&gt;
&lt;h2 id="声卡驱动"&gt;声卡驱动&lt;/h2&gt;
&lt;p&gt;首先使用AppleHDA Patcher软件&lt;code&gt;show Jarvis&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-0.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;发现声卡未识别，显示&lt;code&gt;Found &amp;quot;Device(HDAS)&amp;quot; in DSDT.aml, you should rename it as &amp;quot;Device(HDEF)&amp;quot; for a working audio&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;打开&lt;code&gt;Clover Configurator&lt;/code&gt; 挂载&lt;code&gt;EFI&lt;/code&gt;分区，用&lt;code&gt;Clover Configurator&lt;/code&gt;打开&lt;code&gt;EFI/CLOVER/config.plist&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-1.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-2.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-3.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;设置有效，但是仍然未识别出来声卡型号。&lt;/p&gt;
&lt;p&gt;尝试使用万能声卡。&lt;/p&gt;
&lt;p&gt;到&lt;a href="https://sourceforge.net/projects/voodoohda/"&gt;sourceforge.net&lt;/a&gt;上搜索&lt;code&gt;VoodooHDA&lt;/code&gt;,下载，拖到&lt;code&gt;EFI/CLOVER/kexts/Other&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;重启后在&lt;code&gt;关于本机-&amp;gt;系统报告-&amp;gt; 音频&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-4.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;系统偏好设置 -&amp;gt; 声音 -&amp;gt; 输出&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-5.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;均能看到音频设备。&lt;/p&gt;
&lt;p&gt;再次打开&lt;code&gt;AppleHDA Patcher&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-6.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;好像识别的是&lt;code&gt;HDMI&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;下载安装网易云音乐随便放一首音乐，可以正常播放。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;系统偏好设置 -&amp;gt; 声音 -&amp;gt; 输出&lt;/code&gt;下边的&lt;code&gt;[]在菜单栏中显示音量&lt;/code&gt;勾选后就可以点击屏幕的右上角喇叭状图标调节音量，并选择输出设备。&lt;/p&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/Audio-7.png" alt=""&gt;&lt;/p&gt;
&lt;h2 id="usb-30"&gt;USB 3.0&lt;/h2&gt;
&lt;p&gt;USB3.0口无效，只能用来充电，即使是USB3.0的U盘也只能在USB2.0的口上被识别出来。&lt;/p&gt;
&lt;p&gt;打开&lt;code&gt;Clover Configuator&lt;/code&gt;挂载&lt;code&gt;EFI&lt;/code&gt;分区，打开&lt;code&gt;EFI/CLOVER/config.plist&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;然后转到&lt;code&gt;内核和驱动补丁&lt;/code&gt;选项，&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;key&lt;/th&gt;
&lt;th&gt;value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;名称&lt;/td&gt;
&lt;td&gt;com.apple.driver.usb.AppleUSBXHCI&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;查找&lt;/td&gt;
&lt;td&gt;837D880F 0F83A704 0000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;替换&lt;/td&gt;
&lt;td&gt;837D880F 90909090 9090&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;注释&lt;/td&gt;
&lt;td&gt;随便写&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;img src="/post/hackintosh/%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85%E9%BB%91%E8%8B%B9%E6%9E%9C/usb3.0.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;此外还要到&lt;a href="https://bitbucket.org/RehabMan/os-x-usb-inject-all/downloads/"&gt;这个网站&lt;/a&gt;下载&lt;code&gt;USBInjectALL.kext&lt;/code&gt;驱动程序并放入&lt;code&gt;EFI/CLOVER/kexts/Other&lt;/code&gt;目录中，然后重启。&lt;/p&gt;
&lt;p&gt;重启后打开&lt;code&gt;关于本机-&amp;gt;系统报告-&amp;gt;USB&lt;/code&gt;可以看到速度原本&lt;code&gt;最大480Mb/秒&lt;/code&gt;的U盘现在识别为&lt;code&gt;最大5 Gb/秒&lt;/code&gt;,U盘插入&lt;code&gt;USB 3.0&lt;/code&gt;的插口也能正常识别。&lt;/p&gt;
&lt;h2 id="todo"&gt;TODO&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AppleALC原生驱动&lt;/li&gt;
&lt;li&gt;长时间睡眠唤醒会一直黑屏&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="工具列表"&gt;工具列表&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Clover&lt;/td&gt;
&lt;td&gt;引导工具&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Clover Configurator&lt;/td&gt;
&lt;td&gt;Clover配置工具&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PlistEdit Pro&lt;/td&gt;
&lt;td&gt;同样是编辑CLOVER/config.plist的工具&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MultiBeast&lt;/td&gt;
&lt;td&gt;安装驱动以及安装clover到磁盘的EFI分区（有些驱动会安装失败）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Kext Wizard&lt;/td&gt;
&lt;td&gt;安装驱动到 /L/E，并构建内核驱动列表库&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DPCIManager&lt;/td&gt;
&lt;td&gt;查看网卡信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;IORegistryExplorer&lt;/td&gt;
&lt;td&gt;查看系统硬件接口信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AppleHDA Patcher&lt;/td&gt;
&lt;td&gt;注入AppleALC&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description></item></channel></rss>